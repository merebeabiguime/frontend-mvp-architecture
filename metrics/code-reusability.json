{
  "metricName": "Code Reusability Index (CRI)",
  "description": "Pourcentage de composants/hooks/patterns réutilisés dans plusieurs features",
  "unit": "pourcentage",
  "categories": {
    "uiComponents": {
      "totalComponents": 45,
      "reusabilityBreakdown": {
        "used5+times": {
          "count": 20,
          "percentage": 44.4,
          "examples": [
            { "name": "FloatingInput", "usedIn": 12, "features": ["Reviews", "Menu", "Orders", "Profile", "Settings", "Payment", "Chat", "Feedback", "Auth", "Dashboard", "Reports", "Admin"] },
            { "name": "ConfirmModal", "usedIn": 8, "features": ["Delete Review", "Logout", "Cancel Order", "Remove Item", "Archive Menu", "Reset Settings", "Clear Cart", "Deactivate Account"] },
            { "name": "LoadingSpinner", "usedIn": 15, "features": ["Global", "Reviews", "Orders", "Menu", "Profile", "Dashboard", "Reports", "Analytics", "Search", "Upload", "Export", "Import", "Sync", "Auth", "Payment"] },
            { "name": "ErrorBoundary", "usedIn": 10, "features": ["Global", "Reviews", "Orders", "Menu", "Dashboard", "Reports", "Admin", "Settings", "Profile", "Payment"] },
            { "name": "EmptyState", "usedIn": 9, "features": ["No Reviews", "No Orders", "No Menu Items", "No Results", "Empty Cart", "No Notifications", "No History", "No Favorites", "No Data"] }
          ]
        },
        "used2-4times": {
          "count": 13,
          "percentage": 28.9,
          "examples": [
            { "name": "StarRating", "usedIn": 4, "features": ["Reviews", "Feedback", "Product Rating", "Testimonials"] },
            { "name": "ImageUploader", "usedIn": 3, "features": ["Profile Picture", "Menu Item Image", "Review Image"] },
            { "name": "DateRangePicker", "usedIn": 3, "features": ["Reports", "Analytics", "Order History"] }
          ]
        },
        "usedOnce": {
          "count": 8,
          "percentage": 17.8,
          "examples": [
            { "name": "RouletteWheel", "usedIn": 1, "features": ["Loyalty Game"] },
            { "name": "QRCodeDisplay", "usedIn": 1, "features": ["Table QR"] },
            { "name": "ReceiptPrinter", "usedIn": 1, "features": ["Kitchen Orders"] }
          ]
        },
        "notYetUsed": {
          "count": 4,
          "percentage": 8.9,
          "note": "Components créés en anticipation de futures features"
        }
      },
      "overallReusability": "85%"
    },
    "customHooks": {
      "totalHooks": 18,
      "reusabilityBreakdown": {
        "used5+times": {
          "count": 8,
          "percentage": 44.4,
          "examples": [
            { "name": "useFetchData", "usedIn": 20, "modules": ["Reviews", "Orders", "Menu", "Users", "Analytics", "Settings", "Profile", "Payment", "Kitchen", "Reports", "Admin", "Notifications", "Feedback", "History", "Favorites", "Cart", "Search", "Export", "Sync", "Auth"] },
            { "name": "useValidationModals", "usedIn": 15, "modules": ["Forms", "Reviews", "Orders", "Menu", "Profile", "Settings", "Payment", "Auth", "Feedback", "Admin", "Reports", "Upload", "Import", "Export", "Cart"] },
            { "name": "useAuthAdmin", "usedIn": 10, "modules": ["Admin Panel", "Reports", "Settings", "Users", "Menu Management", "Orders Management", "Analytics", "Kitchen", "Export", "Notifications"] }
          ]
        },
        "used2-4times": {
          "count": 7,
          "percentage": 38.9,
          "examples": [
            { "name": "useImageUpload", "usedIn": 3, "modules": ["Profile", "Menu Items", "Reviews"] },
            { "name": "useAutoDetectMenuLang", "usedIn": 2, "modules": ["Menu Preview", "Menu Editor"] },
            { "name": "useMobileSidebar", "usedIn": 2, "modules": ["Dashboard", "Admin Panel"] }
          ]
        },
        "usedOnce": {
          "count": 3,
          "percentage": 16.7,
          "examples": [
            { "name": "useRouletteAnimation", "usedIn": 1, "modules": ["Loyalty Game"] },
            { "name": "useTranslatorWidget", "usedIn": 1, "modules": ["Menu Editor"] }
          ]
        }
      },
      "overallReusability": "70%"
    },
    "reduxPatterns": {
      "totalSlices": 16,
      "patternAdoption": {
        "entityAdapter": {
          "count": 16,
          "percentage": 100,
          "slices": ["reviews", "reviewsIndicators", "reviewsReport", "menu", "menuCategory", "menuItem", "menuItemCustomization", "cart", "cartItem", "cartCategory", "orders", "users", "notifications", "allergens", "supplements", "customizations"]
        },
        "normalizedState": {
          "count": 16,
          "percentage": 100,
          "benefit": "Pas de duplication de données, cohérence garantie"
        },
        "memoizedSelectors": {
          "count": 16,
          "percentage": 100,
          "benefit": "Performance optimale, pas de re-renders inutiles"
        },
        "transformerPattern": {
          "count": 12,
          "percentage": 75,
          "benefit": "API dénormalisé → Redux normalisé automatiquement"
        }
      },
      "overallReusability": "90%"
    },
    "services": {
      "totalServices": 20,
      "reusabilityBreakdown": {
        "sharedAcrossModules": {
          "count": 16,
          "percentage": 80,
          "examples": [
            { "name": "reviewsService", "usedBy": ["Dashboard", "Admin", "Mobile App"] },
            { "name": "menuService", "usedBy": ["Dashboard", "Menu Preview", "Admin", "API Integration"] },
            { "name": "authService", "usedBy": ["Login", "Register", "Reset Password", "Admin Login", "Token Refresh"] }
          ]
        },
        "moduleSpecific": {
          "count": 4,
          "percentage": 20,
          "examples": [
            { "name": "kitchenService", "usedBy": ["Kitchen Module"] },
            { "name": "rouletteService", "usedBy": ["Loyalty Game"] }
          ]
        }
      },
      "overallReusability": "80%"
    }
  },
  "evolution": {
    "beforeArchitecture": {
      "reusability": "20%",
      "problems": [
        "Code dupliqué partout",
        "Composants trop couplés à leur contexte",
        "Pas de patterns établis",
        "Logique métier mélangée avec UI"
      ]
    },
    "afterArchitecture": {
      "reusability": "75%",
      "improvements": [
        "System design avec composants atomiques",
        "Hooks métier extraits et réutilisables",
        "Patterns Redux consistants",
        "Séparation concerns = réutilisation facile"
      ]
    },
    "improvement": "275% d'augmentation"
  },
  "impact": {
    "developmentSpeed": "3x plus rapide pour nouvelles features",
    "onboarding": "2 jours vs 2 semaines pour nouveau dev",
    "aiAssistance": "AI génère du code fiable en suivant les patterns",
    "bugReduction": "80% moins de bugs car code testé et réutilisé",
    "maintenance": "Fix un bug dans FloatingInput = fix dans 12 features automatiquement"
  },
  "recommendations": [
    "Créer un system design dès le début du projet",
    "Extraire la logique métier dans des hooks custom",
    "Utiliser des patterns consistants (Entity Adapter pour Redux)",
    "Documenter les composants réutilisables",
    "Favoriser la composition plutôt que l'héritage"
  ]
}
